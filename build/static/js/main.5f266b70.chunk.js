(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{168:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(30),l=a.n(r),c=(a(57),a(51)),s=a(6),i=a(7),u=a(9),d=a(8),m=a(10),h=(a(59),a(12)),p=a.n(h),f=a(158),N=a(18),v=a.n(N),E=function(e){return o.a.createElement("div",{className:"note-card card-hover"},o.a.createElement(f.a,{className:"rr-link ",to:"/note/".concat(e.note._id)},o.a.createElement("div",null,o.a.createElement("h4",null,e.note.title),o.a.createElement("div",{className:"card-line"}),o.a.createElement("div",{className:"note-card-body"},o.a.createElement(v.a,{source:e.note.textBody})))))},g=function(e){return console.log(e),o.a.createElement("div",null,o.a.createElement("input",{className:"search-input",placeholder:"search",type:"text",name:"title",onChange:e.searchFilterHandler,value:e.searchTerm}))},b=function(e){return o.a.createElement("div",{className:"note-card-container"},o.a.createElement("div",{className:"notes-header"},o.a.createElement("div",null,o.a.createElement(g,{searchFilterHandler:e.searchFilterHandler,searchTerm:e.searchTerm})),o.a.createElement("h3",null,"Your Notes")),e.notes.map(function(t){return o.a.createElement(E,{key:t._id,deleteNote:e.deleteNote,note:t,editNote:e.editNote})}))},y=a(15),O=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).changeHandler=function(e){a.setState(Object(y.a)({},e.target.name,e.target.value))},a.helper=function(e){a.props.addNote(e,a.state),a.setState({title:"",textBody:""}),a.props.history.push("/")},a.state={title:"",textBody:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return console.log(this.props),o.a.createElement("div",{className:"new-note-container"},o.a.createElement("div",{className:"notes-header"},o.a.createElement("h3",null,"Create New Note:")),o.a.createElement("form",{onSubmit:this.helper},o.a.createElement("input",{className:"form-note-title",name:"title",value:this.state.title,onChange:this.changeHandler,type:"text",placeholder:"Note Title"}),o.a.createElement("textarea",{className:"form-note-content",name:"textBody",value:this.state.textBody,onChange:this.changeHandler,type:"text",placeholder:"Note Content"}),o.a.createElement("button",{className:"form-button"},"Save")))}}]),t}(n.Component),j=a(169),k=a(167),x=a(171),C=a(47),H=a.n(C),S=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).fetchNote=function(e){p.a.get("https://fe-notes.herokuapp.com/note/get/".concat(e)).then(function(e){return a.setState({note:e.data})}).catch(function(e){return console.log(e)})},a.openModal=function(){a.setState({showModal:!0})},a.closeModal=function(){a.setState({showModal:!1})},a.deleteNoteHelper=function(e){e.preventDefault(e),a.props.deleteNote(e,a.state.note._id),a.props.history.push("/")},a.state={note:[],showModal:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.fetchNote(e)}},{key:"render",value:function(){if(!this.state.note)return o.a.createElement("div",null,"loading note");var e=this.state.note,t=e.title,a=e.textBody,n=e._id;return o.a.createElement("div",null,o.a.createElement("div",{className:"edit-delete-container"},o.a.createElement(f.a,{className:"rr-link",to:"/edit/".concat(n)},o.a.createElement("p",{className:"edit-note-link"},"edit")),o.a.createElement("p",{className:"delete-note-link",onClick:this.openModal},"delete")),o.a.createElement("div",null,o.a.createElement("h3",null,t),o.a.createElement(v.a,null,a)),o.a.createElement("div",null,o.a.createElement(H.a,{isOpen:this.state.showModal,onRequestClose:this.closeModal,contentLabel:"Are you sure you want to delete?"},o.a.createElement("div",{className:"modal"},o.a.createElement("div",{className:"modal-prompt"},o.a.createElement("p",null,"Are you sure you want to delete this?")),o.a.createElement("div",{className:"modal-button-container"},o.a.createElement(f.a,{className:"rr-link",to:"/"},o.a.createElement("div",{className:"modal-delete-button",onClick:this.deleteNoteHelper},"Delete")),o.a.createElement("div",{className:"modal-no-button",onClick:this.closeModal},"No"))))))}}]),t}(n.Component),w=Object(x.a)(S),B=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).fetchNote=function(e){p.a.get("https://fe-notes.herokuapp.com/note/get/".concat(e)).then(function(e){return a.setState({note:e.data})}).catch(function(e){return console.log(e)})},a.changeHandler=function(e){a.setState(Object(y.a)({},e.target.name,e.target.value))},a.helper=function(e){a.props.editNote(e,a.state.note._id,a.state),a.setState({title:"",textBody:""}),a.props.history.push("/")},a.state={title:a.props.note.title,textBody:a.props.note.textBody,note:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.fetchNote(e)}},{key:"render",value:function(){return console.log(this.state.note),o.a.createElement("div",null,o.a.createElement("div",{className:"notes-header"},o.a.createElement("h3",null,"Edit Note:")),o.a.createElement("form",{onSubmit:this.helper},o.a.createElement("input",{className:"form-note-title",name:"title",value:this.state.title,onChange:this.changeHandler,type:"text",placeholder:"Note Title"}),o.a.createElement("textarea",{className:"form-note-content",name:"textBody",value:this.state.textBody,onChange:this.changeHandler,type:"text",placeholder:"Note Content"}),o.a.createElement("button",{className:"form-button"},"Save")))}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).changeHandler=function(e){a.setState(Object(y.a)({},e.target.name,e.target.value))},a.state={username:"",password:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props),o.a.createElement("div",{className:"login-container"},o.a.createElement("form",{className:"login",onSubmit:function(t){return e.props.loginHandler(t,e.state.username)}},o.a.createElement("h1",null,"Lambda Forms"),o.a.createElement("input",{type:"text",name:"username",placeholder:"Username",onChange:this.changeHandler,value:this.props.value,className:"login-input"}),o.a.createElement("input",{type:"password",name:"password",placeholder:"Password",onChange:this.changeHandler,value:this.props.value,className:"login-input"}),o.a.createElement("button",{className:"form-button"},"Login")))}}]),t}(n.Component),D=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).addNote=function(t,a){t.preventDefault(),p.a.post("https://fe-notes.herokuapp.com/note/create",a).then(function(t){a._id=t.data.success,e.setState({notes:[a].concat(Object(c.a)(e.state.notes))})}).catch(function(e){return console.log(e)})},e.deleteNote=function(t,a){t.preventDefault(),p.a.delete("https://fe-notes.herokuapp.com/note/delete/".concat(a)).then(function(){var t=e.state.notes.filter(function(e){if(e._id!==a)return e});e.setState({notes:t})}).catch(function(e){return console.log(e)})},e.editNote=function(t,a,n){t.preventDefault(),p.a.put("https://fe-notes.herokuapp.com/note/edit/".concat(a),n).then(function(t){var a=e.state.notes.map(function(e){return e._id===t.data._id?t.data:e});e.setState({notes:a})}).catch(function(e){return console.log(e)})},e.searchFilter=function(t){return e.state.notes.filter(function(e){return e.title.includes(t)})},e.searchFilterHandler=function(t){e.setState({searchTerm:t.target.value})},e.loginHandler=function(t,a){console.log("login fired",a),t.preventDefault(),""!==a?e.setState({username:a}):alert("You need to login")},e.logout=function(t){t.preventDefault(),e.setState({username:""})},e.editingNote=function(t){return e.state.notes.find(function(e){return e._id===t})},e.state={notes:[],searchTerm:"",username:""},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.a.get("https://fe-notes.herokuapp.com/note/get/all").then(function(t){return e.setState({notes:t.data})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this;return""===this.state.username?o.a.createElement(M,{loginHandler:this.loginHandler}):o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"side-bar"},o.a.createElement("h1",{className:"nav-title"},"Lambda ",o.a.createElement("br",null),"Notes"),o.a.createElement("div",{className:"nav-button-container"},o.a.createElement(j.a,{className:"nav-buttons",to:"/"},"View Your Notes"),o.a.createElement(j.a,{className:"nav-buttons",to:"/add-note"},"+ Create New Note"),o.a.createElement("div",{onClick:this.logout,className:"nav-buttons"},"Logout"))),o.a.createElement("div",{className:"body"},o.a.createElement(k.a,{exact:!0,path:"/",render:function(t){return o.a.createElement(b,Object.assign({},t,{notes:e.searchFilter(e.state.searchTerm),deleteNote:e.deleteNote,addNote:e.addNote,editNote:e.editNote,searchFilterHandler:e.searchFilterHandler,searchTerm:e.state.searchTerm}))}}),o.a.createElement(k.a,{path:"/add-note",render:function(t){return o.a.createElement(O,Object.assign({},t,{addNote:e.addNote}))}}),o.a.createElement(k.a,{path:"/note/:id",render:function(t){return o.a.createElement(w,Object.assign({},t,{deleteNote:e.deleteNote}))}}),o.a.createElement(k.a,{path:"/edit/:id",render:function(t){return o.a.createElement(B,Object.assign({note:e.editingNote(t.match.params.id)},t,{editNote:e.editNote}))}})))}}]),t}(n.Component),T=Object(x.a)(D),_=a(170);l.a.render(o.a.createElement(_.a,null,o.a.createElement(T,null)),document.getElementById("root"))},52:function(e,t,a){e.exports=a(168)},57:function(e,t,a){},59:function(e,t,a){}},[[52,2,1]]]);
//# sourceMappingURL=main.5f266b70.chunk.js.map